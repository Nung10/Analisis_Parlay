<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisis Odds Taruhan Komprehensif: Gol, HDP, OU, Trap & Value Bet</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 1000px;
            margin: 30px auto;
            border-top: 5px solid #007bff;
        }
        h1 {
            color: #007bff;
            text-align: center;
            margin-bottom: 25px;
            font-size: 2.2em;
        }
        h2 {
            color: #0056b3;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.6em;
        }
        p.intro {
            text-align: center;
            font-style: italic;
            color: #666;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        input[type="number"], input[type="text"] {
            width: calc(100% - 22px);
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        input[type="number"]:focus, input[type="text"]:focus {
            border-color: #007bff;
            outline: none;
        }
        small {
            color: #888;
            display: block;
            margin-top: 5px;
        }
        button {
            background-color: #28a745;
            color: white;
            padding: 14px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1em;
            width: 100%;
            margin-top: 25px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #218838;
        }
        .result-box {
            margin-top: 40px;
            padding: 25px;
            border: 1px solid #cce5ff;
            background-color: #e9f7ff;
            border-radius: 8px;
            word-wrap: break-word;
        }
        .result-box h3 {
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.4em;
            border-bottom: 1px dashed #aaddff;
            padding-bottom: 10px;
        }
        .result-box p {
            margin-bottom: 10px;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
        }
        .warning {
            color: #ffc107;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 5px;
        }
        .success {
            color: #28a745;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
        }
        .recommendation {
            color: #0056b3;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 15px;
            background-color: #e6f7ff;
            border: 1px solid #99ccff;
            border-left: 5px solid #007bff;
            border-radius: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .flex-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap; 
        }
        .flex-row > div {
            flex: 1;
            min-width: 280px; 
        }
        .section-note {
            background-color: #f9f9f9;
            border-left: 4px solid #007bff;
            padding: 10px 15px;
            margin-top: 15px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #555;
        }
        .team-stats-group {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
        }
        .team-stats-group > div {
            flex: 1;
        }
        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
        }
        .tab-button {
            background-color: #f1f1f1;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 20px;
            transition: 0.3s;
            font-size: 17px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            margin-right: 2px;
            white-space: nowrap;
        }
        .tab-button:hover {
            background-color: #ddd;
        }
        .tab-button.active {
            background-color: #007bff;
            color: white;
            border-bottom: 2px solid #007bff;
        }
        .tab-content {
            display: none;
            padding: 20px 0;
            border-top: none;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Analisis Odds Taruhan Komprehensif: Gol, HDP, OU, Trap & Value Bet</h1>
        <p class="intro">
            Alat ini membantu Anda menganalisis odds desimal, menghitung probabilitas tersirat dan margin bandar,
            membandingkan odds dari dua sumber, serta mengintegrasikan statistik rata-rata gol dan kebobolan.
            Gunakan untuk mendukung riset Anda dalam mengidentifikasi potensi <strong>Odds Trap</strong> dan <strong>Value Bet</strong>, serta mendapatkan <strong>rekomendasi taruhan yang didukung data</strong>.
        </p>

        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'inputData')">1. Input Data</button>
            <button class="tab-button" onclick="openTab(event, 'resultAnalysis')">2. Hasil Analisis</button>
            <button class="tab-button" onclick="openTab(event, 'recommendations')">3. Rekomendasi Taruhan</button>
            <button class="tab-button" onclick="openTab(event, 'explanationGlossary')">4. Penjelasan & Glosarium</button>
        </div>

        <div id="inputData" class="tab-content active">
            <h2>1. Odds Pertandingan Utama (1X2)</h2>
            <div class="section-note">
                Masukkan odds desimal untuk pertandingan utama dari <strong>Bandar A</strong> (sumber utama Anda).
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label for="oddsHomeA">Odds Tim Kandang (1) - Bandar A:</label>
                    <input type="number" id="oddsHomeA" step="0.01" min="1.01" placeholder="Misal: 1.85">
                </div>
                <div class="form-group">
                    <label for="oddsDrawA">Odds Seri (X) - Bandar A:</label>
                    <input type="number" id="oddsDrawA" step="0.01" min="1.01" placeholder="Misal: 3.50 (opsional)">
                </div>
                <div class="form-group">
                    <label for="oddsAwayA">Odds Tim Tandang (2) - Bandar A:</label>
                    <input type="number" id="oddsAwayA" step="0.01" min="1.01" placeholder="Misal: 1.95">
                </div>
            </div>

            <div class="section-note">
                Opsional: Masukkan odds yang sama dari <strong>Bandar B</strong> (sumber lain) untuk perbandingan. Ini sangat berguna untuk mendeteksi *value* atau *trap*.
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label for="oddsHomeB">Odds Tim Kandang (1) - Bandar B:</label>
                    <input type="number" id="oddsHomeB" step="0.01" min="1.01" placeholder="Misal: 1.80">
                </div>
                <div class="form-group">
                    <label for="oddsDrawB">Odds Seri (X) - Bandar B:</label>
                    <input type="number" id="oddsDrawB" step="0.01" min="1.01" placeholder="Misal: 3.60 (opsional)">
                </div>
                <div class="form-group">
                    <label for="oddsAwayB">Odds Tim Tandang (2) - Bandar B:</label>
                    <input type="number" id="oddsAwayB" step="0.01" min="1.01" placeholder="Misal: 2.00">
                </div>
            </div>

            <h2>2. Analisis Handicap (HDP)</h2>
            <div class="section-note">
                Masukkan nilai HDP yang ingin Anda analisis dan odds terkait dari Bandar A dan B. Ini adalah HDP yang Anda temukan di bandar, bukan yang ditentukan oleh alat.
            </div>
            <div class="form-group">
                <label for="hdpValue">Garis Handicap (HDP) (misal: 0.5, -0.75):</label>
                <input type="text" id="hdpValue" placeholder="Misal: 0.5 (Home -0.5), -0.75 (Away -0.75)">
                <small>Positif untuk Home, negatif untuk Away. Pisahkan dengan koma untuk beberapa garis (misal: "0.5, 1.0").</small>
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label for="hdpOddsHomeA">Odds HDP Home - Bandar A:</label>
                    <input type="number" id="hdpOddsHomeA" step="0.01" min="1.01" placeholder="Misal: 1.88">
                </div>
                <div class="form-group">
                    <label for="hdpOddsAwayA">Odds HDP Away - Bandar A:</label>
                    <input type="number" id="hdpOddsAwayA" step="0.01" min="1.01" placeholder="Misal: 1.92">
                </div>
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label for="hdpOddsHomeB">Odds HDP Home - Bandar B:</label>
                    <input type="number" id="hdpOddsHomeB" step="0.01" min="1.01" placeholder="Misal: 1.85">
                </div>
                <div class="form-group">
                    <label for="hdpOddsAwayB">Odds HDP Away - Bandar B:</label>
                    <input type="number" id="hdpOddsAwayB" step="0.01" min="1.01" placeholder="Misal: 1.95">
                </div>
            </div>

            <h2>3. Analisis Over/Under (OU)</h2>
            <div class="section-note">
                Masukkan nilai OU yang ingin Anda analisis dan odds terkait dari Bandar A dan B. Ini adalah OU yang Anda temukan di bandar.
            </div>
            <div class="form-group">
                <label for="ouValue">Garis Over/Under (OU) (misal: 2.5, 3.0):</label>
                <input type="text" id="ouValue" placeholder="Misal: 2.5, 3.0">
                <small>Pisahkan dengan koma untuk beberapa garis (misal: "2.5, 2.75").</small>
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label for="oddsOverA">Odds OVER - Bandar A:</label>
                    <input type="number" id="oddsOverA" step="0.01" min="1.01" placeholder="Misal: 1.90">
                </div>
                <div class="form-group">
                    <label for="oddsUnderA">Odds UNDER - Bandar A:</label>
                    <input type="number" id="oddsUnderA" step="0.01" min="1.01" placeholder="Misal: 1.80">
                </div>
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label for="oddsOverB">Odds OVER - Bandar B:</label>
                    <input type="number" id="oddsOverB" step="0.01" min="1.01" placeholder="Misal: 1.85">
                </div>
                <div class="form-group">
                    <label for="oddsUnderB">Odds UNDER - Bandar B:</label>
                    <input type="number" id="oddsUnderB" step="0.01" min="1.01" placeholder="Misal: 1.90">
                </div>
            </div>

            <h2>4. Statistik Rata-rata Gol & Kebobolan</h2>
            <div class="section-note">
                Masukkan rata-rata gol per pertandingan untuk kedua tim. Data ini penting untuk analisis Over/Under dan kekuatan tim.
                Dapatkan dari situs statistik terpercaya (misal: soccerstats.com, footystats.org, whoscored.com).
            </div>
            <div class="flex-row">
                <div class="form-group">
                    <label>Tim Kandang (Home Team)</label>
                    <div class="team-stats-group">
                        <div>
                            <label for="homeAvgScored">Rata-rata Gol Dicetak:</label>
                            <input type="number" id="homeAvgScored" step="0.01" min="0" placeholder="Misal: 1.5">
                        </div>
                        <div>
                            <label for="homeAvgConceded">Rata-rata Gol Kebobolan:</label>
                            <input type="number" id="homeAvgConceded" step="0.01" min="0" placeholder="Misal: 0.8">
                        </div>
                    </div>
                    <small>Rata-rata gol yang dicetak dan kebobolan oleh tim kandang.</small>
                </div>
                <div class="form-group">
                    <label>Tim Tandang (Away Team)</label>
                    <div class="team-stats-group">
                        <div>
                            <label for="awayAvgScored">Rata-rata Gol Dicetak:</label>
                            <input type="number" id="awayAvgScored" step="0.01" min="0" placeholder="Misal: 1.2">
                        </div>
                        <div>
                            <label for="awayAvgConceded">Rata-rata Gol Kebobolan:</label>
                            <input type="number" id="awayAvgConceded" step="0.01" min="0" placeholder="Misal: 1.3">
                        </div>
                    </div>
                    <small>Rata-rata gol yang dicetak dan kebobolan oleh tim tandang.</small>
                </div>
            </div>

            <div class="form-group">
                <label for="leagueAvgGoals">Rata-rata Gol Liga per Pertandingan (Opsional, untuk akurasi kekuatan):</label>
                <input type="number" id="leagueAvgGoals" step="0.01" min="0" placeholder="Misal: 2.75">
                <small>Total rata-rata gol (dicetak + kebobolan) per pertandingan di liga tersebut.</small>
            </div>

            <button onclick="analyzeOdds()">Analisis Lengkap & Dapatkan Rekomendasi</button>
        </div>

        <div id="resultAnalysis" class="tab-content">
            <div class="result-box" id="result">
                <div id="errorMessages"></div>
                <div id="mainMatchAnalysis"></div>
                <div id="hdpAnalysis"></div>
                <div id="ouAnalysis"></div>
                <div id="goalStatsAnalysis"></div>
                <div id="oddsTrapWarning"></div>
                <div id="valueBetSuggestions"></div>
            </div>
        </div>

        <div id="recommendations" class="tab-content">
            <div class="result-box">
                <h3>Rekomendasi Taruhan Terbaik:</h3>
                <div id="finalRecommendations">
                    <p class="section-note">Silakan isi data dan klik "Analisis Lengkap" untuk mendapatkan rekomendasi.</p>
                </div>
                <p class="section-note">
                    <strong>Penting:</strong> Rekomendasi ini didasarkan pada data yang Anda berikan dan heuristik sederhana.
                    Selalu lakukan riset mendalam Anda sendiri (cedera, form, taktik, motivasi) sebelum menempatkan taruhan.
                    Analisis data adalah kunci, tetapi intuisi dan informasi terkini juga penting.
                </p>
            </div>
        </div>

        <div id="explanationGlossary" class="tab-content">
            <div id="explanation">
                <h3>Memahami Metrik Analisis Taruhan:</h3>
                <p>
                    <strong>Odds Desimal:</strong> Format odds paling umum di Eropa, menunjukkan total pengembalian termasuk modal. Odds 2.00 berarti modal dikembalikan 2x.
                </p>
                <p>
                    <strong>Odds Moneyline (Amerika):</strong> Odds positif (+150) menunjukkan berapa yang dimenangkan dari taruhan $100. Odds negatif (-150) menunjukkan berapa yang harus dipertaruhkan untuk memenangkan $100.
                </p>
                <p>
                    <strong>Odds Fractional (Inggris):</strong> Menunjukkan potensi keuntungan dibandingkan modal (misal: 3/1 berarti menang 3 unit untuk setiap 1 unit taruhan).
                </p>
                <p>
                    <strong>Probabilitas Tersirat:</strong> Persentase kemungkinan suatu hasil terjadi berdasarkan odds yang ditawarkan bandar, *sebelum* margin keuntungan mereka ditambahkan. Rumusnya adalah <code>(1 / Odds) * 100%</code>. [performanceodds.com](https://www.performanceodds.com/how-to-guides/comparing-odds-betting-strategy/)
                </p>
                <p>
                    <strong>Margin Bandar (Overround / Vig):</strong> Keuntungan yang diambil bandar. Jika total probabilitas tersirat dari semua kemungkinan hasil melebihi 100%, selisihnya adalah margin bandar. Semakin rendah margin, semakin baik odds bagi petaruh.
                </p>
                <p class="warning">
                    <strong>Apa itu Odds Trap?</strong> Odds Trap (atau Trap Line) adalah odds yang terlihat sangat menarik atau terlalu bagus untuk menjadi kenyataan, dirancang oleh bandar untuk memancing petaruh ke dalam taruhan yang sebenarnya memiliki nilai buruk atau peluang kalah yang lebih tinggi. Ini sering terjadi pada tim favorit yang memiliki faktor kelemahan tersembunyi (cedera, kelelahan, fokus ke pertandingan lain) atau pergerakan odds yang tidak wajar. [bettoredge.com](https://www.bettoredge.com/post/best-sports-betting-tools-for-sports-bettors), [bettingtools.com](https://bettingtools.com/us/guides/betting-terms/trap-game/)
                    <strong>Cara mewaspadainya:</strong> Selalu lakukan riset mendalam, bandingkan odds dari berbagai bandar, perhatikan pergerakan odds yang tidak biasa, dan hindari odds yang "terlalu bagus" tanpa alasan yang jelas.
                </p>
                 <p class="success">
                    <strong>Apa itu Value Bet?</strong> Sebuah Value Bet terjadi ketika probabilitas aktual suatu peristiwa (berdasarkan analisis Anda, yang mungkin lebih akurat dari bandar) lebih tinggi daripada probabilitas tersirat yang ditawarkan oleh odds bandar. Jika Anda percaya peluang suatu hasil adalah 50% (Odds 2.00) tetapi bandar menawarkan Odds 2.20 (probabilitas tersirat 45.45%), maka itu adalah *value bet*. Ini adalah fondasi dari taruhan cerdas jangka panjang. [nerdytips.com](https://nerdytips.com/blog/how-to-spot-value-bets-in-football-for-consistent-profits/), [rebelbetting.com](https://www.rebelbetting.com/valuebetting/value-betting-guide)
                </p>
                <p>
                    <strong>Rata-rata Gol Dicetak & Kebobolan:</strong> Statistik ini memberikan gambaran tentang kekuatan menyerang dan bertahan suatu tim. Tim dengan rata-rata gol dicetak tinggi dan kebobolan rendah umumnya tim yang kuat. Kombinasi ini sangat berguna untuk menilai taruhan Over/Under. [performanceodds.com](https://www.performanceodds.com/betting-tricks/the-winning-formula-football-stats-odds-comparison-maximum-value/)

                </p>

                <p>

                    <strong>Attack Strength & Defense Strength (Sederhana):</strong> Metrik ini (versi sederhana di alat ini) mengestimasi seberapa baik tim menyerang/bertahan dibandingkan ekspektasi atau rata-rata liga. Ini membantu Anda memahami nilai relatif kekuatan tim.

                </p>

                <p>

                    <strong>Expected Goals (xG) (Sangat Sederhana):</strong> Metrik lanjutan yang mengukur kualitas peluang mencetak gol. Di alat ini, xG disederhanakan dari rata-rata gol tim untuk memberikan perkiraan kasar total gol yang diharapkan dalam pertandingan. xG adalah metrik penting untuk memprediksi pertandingan sepak bola. [first.com](https://first.com/blog/sports/xg-be-used-to-identify-good-bets), [fanbanter.co.uk](https://fanbanter.co.uk/analyzing-expected-goals-how-this-metric-can-enhance-your-betting-strategy/)

                </p>

                <p class="section-note">

                    <strong>Penting:</strong> Alat ini adalah *bantuan analisis*, bukan *prediktor otomatis*. Semua hasil dan saran harus diimbangi dengan riset Anda sendiri mengenai form tim, cedera pemain, suspensi, taktik, cuaca, motivasi, dan berita terbaru. Odds bergerak karena banyak faktor, dan pemahaman Anda adalah kunci untuk membuat keputusan taruhan yang cerdas. [gamblerscompendium.com](https://www.gamblerscompendium.com/how-to-build-a-winning-football-betting-strategy-expert-guide-for-2025/)

                </p>

            </div>

        </div>

    </div>



    <script>

        function toMoneyline(decimalOdds) {

            if (isNaN(decimalOdds) || decimalOdds < 1) return 'N/A';

            if (decimalOdds >= 2) {

                return '+' + Math.round((decimalOdds - 1) * 100);

            } else {

                return '-' + Math.round(100 / (decimalOdds - 1));

            }

        }



        function toFractional(decimalOdds) {

            if (isNaN(decimalOdds) || decimalOdds < 1) return 'N/A';

            const numerator = decimalOdds - 1;

            const tolerance = 1e-6; 

            for (let d = 1; d <= 1000; d++) { 

                const n = numerator * d;

                if (Math.abs(n - Math.round(n)) < tolerance) {

                    return `${Math.round(n)}/${d}`;

                }

            }

            return `${numerator.toFixed(2)}/1`; 

        }



        function calculateImpliedProbability(odds) {

            if (isNaN(odds) || odds < 1) return 0;

            return (1 / odds) * 100;

        }



        function getOddsInput(id) {

            const value = document.getElementById(id).value;

            return value === '' ? NaN : parseFloat(value);

        }



        function getComparisonText(oddsA, oddsB) {

            if (isNaN(oddsA) && isNaN(oddsB)) return 'Tidak ada data';

            if (isNaN(oddsA)) return 'Hanya Bandar B';

            if (isNaN(oddsB)) return 'Hanya Bandar A';



            if (oddsA > oddsB) return `Bandar A lebih baik (+${(oddsA - oddsB).toFixed(2)})`;

            if (oddsB > oddsA) return `Bandar B lebih baik (+${(oddsB - oddsA).toFixed(2)})`;

            return 'Sama';

        }



        function openTab(evt, tabName) {

            var i, tabcontent, tablinks;

            tabcontent = document.getElementsByClassName("tab-content");

            for (i = 0; i < tabcontent.length; i++) {

                tabcontent[i].style.display = "none";

            }

            tablinks = document.getElementsByClassName("tab-button");

            for (i = 0; i < tablinks.length; i++) {

                tablinks[i].className = tablinks[i].className.replace(" active", "");

            }

            document.getElementById(tabName).style.display = "block";

            evt.currentTarget.className += " active";

        }





        function analyzeOdds() {

            // Odds Bandar A

            const oddsHomeA = getOddsInput('oddsHomeA');

            const oddsDrawA = getOddsInput('oddsDrawA');

            const oddsAwayA = getOddsInput('oddsAwayA');



            // Odds Bandar B

            const oddsHomeB = getOddsInput('oddsHomeB');

            const oddsDrawB = getOddsInput('oddsDrawB');

            const oddsAwayB = getOddsInput('oddsAwayB');



            // HDP

            const hdpValueInput = document.getElementById('hdpValue').value;

            const hdpOddsHomeA = getOddsInput('hdpOddsHomeA');

            const hdpOddsAwayA = getOddsInput('hdpOddsAwayA');

            const hdpOddsHomeB = getOddsInput('hdpOddsHomeB');

            const hdpOddsAwayB = getOddsInput('hdpOddsAwayB');



            // OU

            const ouValueInput = document.getElementById('ouValue').value;

            const oddsOverA = getOddsInput('oddsOverA');

            const oddsUnderA = getOddsInput('oddsUnderA');

            const oddsOverB = getOddsInput('oddsOverB');

            const oddsUnderB = getOddsInput('oddsUnderB');



            // Statistik Gol

            const homeAvgScored = getOddsInput('homeAvgScored');

            const homeAvgConceded = getOddsInput('homeAvgConceded');

            const awayAvgScored = getOddsInput('awayAvgScored');

            const awayAvgConceded = getOddsInput('awayAvgConceded');

            const leagueAvgGoals = getOddsInput('leagueAvgGoals'); 



            const errorMessagesDiv = document.getElementById('errorMessages');

            const mainMatchAnalysisDiv = document.getElementById('mainMatchAnalysis');

            const hdpAnalysisDiv = document.getElementById('hdpAnalysis');

            const ouAnalysisDiv = document.getElementById('ouAnalysis');

            const goalStatsAnalysisDiv = document.getElementById('goalStatsAnalysis');

            const oddsTrapWarningDiv = document.getElementById('oddsTrapWarning');

            const valueBetSuggestionsDiv = document.getElementById('valueBetSuggestions');

            const finalRecommendationsDiv = document.getElementById('finalRecommendations'); // For final recommendations



            errorMessagesDiv.innerHTML = '';

            mainMatchAnalysisDiv.innerHTML = '';

            hdpAnalysisDiv.innerHTML = '';

            ouAnalysisDiv.innerHTML = '';

            goalStatsAnalysisDiv.innerHTML = '';

            oddsTrapWarningDiv.innerHTML = '';

            valueBetSuggestionsDiv.innerHTML = '';

            finalRecommendationsDiv.innerHTML = '';



            let errors = [];

            let recommendations = [];

            let trapWarnings = [];

            let valueBets = [];



            // --- Validasi Input Utama (Bandar A) ---

            if (isNaN(oddsHomeA) || oddsHomeA < 1.01) {

                errors.push("Odds Tim Kandang (Bandar A) harus angka dan lebih besar dari 1.00.");

            }

            if (!isNaN(oddsDrawA) && oddsDrawA < 1.01) {

                errors.push("Jika diisi, Odds Seri (Bandar A) harus lebih besar dari 1.00.");

            }

            if (isNaN(oddsAwayA) || oddsAwayA < 1.01) {

                errors.push("Odds Tim Tandang (Bandar A) harus angka dan lebih besar dari 1.00.");

            }



            if (errors.length > 0) {

                errorMessagesDiv.innerHTML = errors.map(msg => `<p class="error">${msg}</p>`).join('');

                openTab(event, 'resultAnalysis'); // Switch to result tab to show errors

                return;

            }



            // --- Analisis Odds Pertandingan Utama (1X2) ---

            let mainMatchHtml = '<h3>Analisis Odds Utama (1X2)</h3>';

            mainMatchHtml += '<table><thead><tr><th>Hasil</th><th>Odds Desimal (A)</th><th>Odds Desimal (B)</th><th>Prob. Tersirat (A)</th><th>Prob. Tersirat (B)</th><th>Perbandingan Terbaik</th></tr></thead><tbody>';



            const probHomeA = calculateImpliedProbability(oddsHomeA);

            const probDrawA = isNaN(oddsDrawA) ? 0 : calculateImpliedProbability(oddsDrawA);

            const probAwayA = calculateImpliedProbability(oddsAwayA);



            const probHomeB = calculateImpliedProbability(oddsHomeB);

            const probDrawB = isNaN(oddsDrawB) ? 0 : calculateImplliedProbability(oddsDrawB);

            const probAwayB = calculateImpliedProbability(oddsAwayB);



            const totalImpliedProb1X2A = probHomeA + probDrawA + probAwayA;

            const overround1X2A = totalImpliedProb1X2A > 0 ? (totalImpliedProb1X2A - 100).toFixed(2) : 'N/A';

            

            const totalImpliedProb1X2B = probHomeB + probDrawB + probAwayB;

            const overround1X2B = (!isNaN(probHomeB) && !isNaN(probAwayB) && (isNaN(probDrawB) || !isNaN(probDrawB))) ? (totalImpliedProb1X2B - 100).toFixed(2) : 'N/A';



            mainMatchHtml += `<tr><td>Tim Kandang (1)</td><td>${oddsHomeA}</td><td>${isNaN(oddsHomeB) ? 'N/A' : oddsHomeB}</td><td>${probHomeA.toFixed(2)}%</td><td>${isNaN(probHomeB) ? 'N/A' : probHomeB.toFixed(2)}%</td><td>${getComparisonText(oddsHomeA, oddsHomeB)}</td></tr>`;

            if (!isNaN(oddsDrawA) || !isNaN(oddsDrawB)) {

                mainMatchHtml += `<tr><td>Seri (X)</td><td>${isNaN(oddsDrawA) ? 'N/A' : oddsDrawA}</td><td>${isNaN(oddsDrawB) ? 'N/A' : oddsDrawB}</td><td>${probDrawA.toFixed(2)}%</td><td>${isNaN(probDrawB) ? 'N/A' : probDrawB.toFixed(2)}%</td><td>${getComparisonText(oddsDrawA, oddsDrawB)}</td></tr>`;

            }

            mainMatchHtml += `<tr><td>Tim Tandang (2)</td><td>${oddsAwayA}</td><td>${isNaN(oddsAwayB) ? 'N/A' : oddsAwayB}</td><td>${probAwayA.toFixed(2)}%</td><td>${isNaN(probAwayB) ? 'N/A' : probAwayB.toFixed(2)}%</td><td>${getComparisonText(oddsAwayA, oddsAwayB)}</td></tr>`;

            mainMatchHtml += `</tbody></table>`;

            mainMatchHtml += `<p><strong>Bandar A - Total Probabilitas Tersirat (1X2):</strong> ${totalImpliedProb1X2A.toFixed(2)}%</p>`;

            mainMatchHtml += `<p><strong>Bandar A - Margin Bandar (Overround 1X2):</strong> ${overround1X2A}%</p>`;

            if (overround1X2B !== 'N/A') {

                 mainMatchHtml += `<p><strong>Bandar B - Total Probabilitas Tersirat (1X2):</strong> ${totalImpliedProb1X2B.toFixed(2)}%</p>`;

                 mainMatchHtml += `<p><strong>Bandar B - Margin Bandar (Overround 1X2):</strong> ${overround1X2B}%</p>`;

            }

            mainMatchAnalysisDiv.innerHTML = mainMatchHtml;



            // --- Analisis Handicap (HDP) ---

            let hdpHtml = '<h3>Analisis Handicap (HDP)</h3>';

            const hdpValues = hdpValueInput.split(',').map(v => v.trim()).filter(v => v !== '');



            if (hdpValues.length > 0 && ((!isNaN(hdpOddsHomeA) && !isNaN(hdpOddsAwayA)) || (!isNaN(hdpOddsHomeB) && !isNaN(hdpOddsAwayB)))) {

                hdpHtml += '<table><thead><tr><th>Garis HDP</th><th>Pilihan</th><th>Odds Desimal (A)</th><th>Odds Desimal (B)</th><th>Prob. Tersirat (A)</th><th>Prob. Tersirat (B)</th><th>Perbandingan Terbaik</th></tr></thead><tbody>';

                hdpValues.forEach(value => {

                    const hdpNum = parseFloat(value);

                    if (!isNaN(hdpNum)) {

                        const probHdpHomeA = calculateImpliedProbability(hdpOddsHomeA);

                        const probHdpAwayA = calculateImpliedProbability(hdpOddsAwayA);

                        const totalImpliedHdpA = probHdpHomeA + probHdpAwayA;

                        const overroundHdpA = totalImpliedHdpA > 0 ? (totalImpliedHdpA - 100).toFixed(2) : 'N/A';



                        const probHdpHomeB = calculateImpliedProbability(hdpOddsHomeB);

                        const probHdpAwayB = calculateImpliedProbability(hdpOddsAwayB);

                        const totalImpliedHdpB = probHdpHomeB + probHdpAwayB;

                        const overroundHdpB = (!isNaN(probHdpHomeB) && !isNaN(probHdpAwayB)) ? (totalImpliedHdpB - 100).toFixed(2) : 'N/A';



                        hdpHtml += `<tr><td>${hdpNum > 0 ? 'Home' : 'Away'} ${Math.abs(hdpNum)}</td><td>HDP Home</td><td>${isNaN(hdpOddsHomeA) ? 'N/A' : hdpOddsHomeA}</td><td>${isNaN(hdpOddsHomeB) ? 'N/A' : hdpOddsHomeB}</td><td>${probHdpHomeA.toFixed(2)}%</td><td>${isNaN(probHdpHomeB) ? 'N/A' : probHdpHomeB.toFixed(2)}%</td><td>${getComparisonText(hdpOddsHomeA, hdpOddsHomeB)}</td></tr>`;

                        hdpHtml += `<tr><td></td><td>HDP Away</td><td>${isNaN(hdpOddsAwayA) ? 'N/A' : hdpOddsAwayA}</td><td>${isNaN(hdpOddsAwayB) ? 'N/A' : hdpOddsAwayB}</td><td>${probHdpAwayA.toFixed(2)}%</td><td>${isNaN(probHdpAwayB) ? 'N/A' : probHdpAwayB.toFixed(2)}%</td><td>${getComparisonText(hdpOddsAwayA, hdpOddsAwayB)}</td></tr>`;

                        

                        if (!isNaN(hdpOddsHomeA) && !isNaN(hdpOddsAwayA)) {

                            hdpHtml += `<tr><td colspan="7" style="font-weight:bold;">Bandar A - Total Prob. Tersirat HDP: ${totalImpliedHdpA.toFixed(2)}% (Margin: ${overroundHdpA}%)</td></tr>`;

                        }

                        if (overroundHdpB !== 'N/A') {

                            hdpHtml += `<tr><td colspan="7" style="font-weight:bold;">Bandar B - Total Prob. Tersirat HDP: ${totalImpliedHdpB.toFixed(2)}% (Margin: ${overroundHdpB}%)</td></tr>`;

                        }

                    }

                });

                hdpHtml += '</tbody></table>';

                hdpHtml += '<p><em>Perbandingan odds HDP antar bandar dapat mengungkapkan di mana pasar menaruh preferensi atau di mana ada potensi nilai. Odds yang sangat berbeda untuk HDP yang sama antara bandar yang kredibel mungkin menunjukkan pergerakan pasar atau perbedaan penilaian awal.</em></p>';

                hdpAnalysisDiv.innerHTML = hdpHtml;

            } else if (hdpValueInput || !isNaN(hdpOddsHomeA) || !isNaN(hdpOddsAwayA) || !isNaN(hdpOddsHomeB) || !isNaN(hdpOddsAwayB)) {

                hdpAnalysisDiv.innerHTML = `<p class="error">Harap lengkapi setidaknya satu pasangan Odds HDP (Home & Away) dari salah satu bandar untuk analisis, bersama dengan Garis Handicap.</p>`;

            } else {

                hdpAnalysisDiv.innerHTML = '<p>Tidak ada data HDP yang dimasukkan untuk dianalisis.</p>';

            }



            // --- Analisis Over/Under (OU) ---

            let ouHtml = '<h3>Analisis Over/Under (OU)</h3>';

            const ouValues = ouValueInput.split(',').map(v => v.trim()).filter(v => v !== '');



            if (ouValues.length > 0 && ((!isNaN(oddsOverA) && !isNaN(oddsUnderA)) || (!isNaN(oddsOverB) && !isNaN(oddsUnderB)))) {

                ouHtml += '<table><thead><tr><th>Garis OU</th><th>Pilihan</th><th>Odds Desimal (A)</th><th>Odds Desimal (B)</th><th>Prob. Tersirat (A)</th><th>Prob. Tersirat (B)</th><th>Perbandingan Terbaik</th></tr></thead><tbody>';

                ouValues.forEach(value => {

                    const ouNum = parseFloat(value);

                    if (!isNaN(ouNum)) {

                        const probOverA = calculateImpliedProbability(oddsOverA);

                        const probUnderA = calculateImplliedProbability(oddsUnderA);

                        const totalImpliedOUA = probOverA + probUnderA;

                        const overroundOUA = totalImpliedOUA > 0 ? (totalImpliedOUA - 100).toFixed(2) : 'N/A';



                        const probOverB = calculateImpliedProbability(oddsOverB);

                        const probUnderB = calculateImpliedProbability(oddsUnderB);

                        const totalImpliedOUB = probOverB + probUnderB;

                        const overroundOUB = (!isNaN(probOverB) && !isNaN(probUnderB)) ? (totalImpliedOUB - 100).toFixed(2) : 'N/A';



                        ouHtml += `<tr><td>${ouNum}</td><td>Over</td><td>${isNaN(oddsOverA) ? 'N/A' : oddsOverA}</td><td>${isNaN(oddsOverB) ? 'N/A' : oddsOverB}</td><td>${probOverA.toFixed(2)}%</td><td>${isNaN(probOverB) ? 'N/A' : probOverB.toFixed(2)}%</td><td>${getComparisonText(oddsOverA, oddsOverB)}</td></tr>`;

                        ouHtml += `<tr><td></td><td>Under</td><td>${isNaN(oddsUnderA) ? 'N/A' : oddsUnderA}</td><td>${isNaN(oddsUnderB) ? 'N/A' : oddsUnderB}</td><td>${probUnderA.toFixed(2)}%</td><td>${isNaN(probUnderB) ? 'N/A' : probUnderB.toFixed(2)}%</td><td>${getComparisonText(oddsUnderA, oddsUnderB)}</td></tr>`;

                        

                        if (!isNaN(oddsOverA) && !isNaN(oddsUnderA)) {

                            ouHtml += `<tr><td colspan="7" style="font-weight:bold;">Bandar A - Total Prob. Tersirat OU: ${totalImpliedOUA.toFixed(2)}% (Margin: ${overroundOUA}%)</td></tr>`;

                        }

                        if (overroundOUB !== 'N/A') {

                            ouHtml += `<tr><td colspan="7" style="font-weight:bold;">Bandar B - Total Prob. Tersirat OU: ${totalImpliedOUB.toFixed(2)}% (Margin: ${overroundOUB}%)</td></tr>`;

                        }

                    }

                });

                ouHtml += '</tbody></table>';

                ouHtml += '<p><em>Perbedaan signifikan dalam odds Over/Under antar bandar dapat menunjukkan bahwa ada pasar yang "panas" ke satu sisi, atau adanya informasi yang belum sepenuhnya dicerna oleh semua bandar.</em></p>';

                ouAnalysisDiv.innerHTML = ouHtml;

            } else if (ouValueInput || !isNaN(oddsOverA) || !isNaN(oddsUnderA) || !isNaN(oddsOverB) || !isNaN(oddsUnderB)) {

                ouAnalysisDiv.innerHTML = `<p class="error">Harap lengkapi setidaknya satu pasangan Odds Over & Under dari salah satu bandar untuk analisis, bersama dengan Garis Over/Under.</p>`;

            } else {

                ouAnalysisDiv.innerHTML = '<p>Tidak ada data Over/Under yang dimasukkan untuk dianalisis.</p>';

            }



            // --- Analisis Statistik Gol ---

            let goalStatsHtml = '<h3>Analisis Statistik Rata-rata Gol & Kebobolan</h3>';

            let teamStatsProvided = !isNaN(homeAvgScored) || !isNaN(homeAvgConceded) || !isNaN(awayAvgScored) || !isNaN(awayAvgConceded);

            let xGHome = NaN, xGAway = NaN, totalxG = NaN; // Initialize xG variables



            if (teamStatsProvided) {

                goalStatsHtml += '<table><thead><tr><th>Tim</th><th>Rata-rata Gol Dicetak</th><th>Rata-rata Gol Kebobolan</th></tr></thead><tbody>';

                goalStatsHtml += `<tr><td>Tim Kandang</td><td>${isNaN(homeAvgScored) ? 'N/A' : homeAvgScored}</td><td>${isNaN(homeAvgConceded) ? 'N/A' : homeAvgConceded}</td></tr>`;

                goalStatsHtml += `<tr><td>Tim Tandang</td><td>${isNaN(awayAvgScored) ? 'N/A' : awayAvgScored}</td><td>${isNaN(awayAvgConceded) ? 'N/A' : awayAvgConceded}</td></tr>`;

                goalStatsHtml += '</tbody></table>';



                if (!isNaN(homeAvgScored) && !isNaN(homeAvgConceded) && !isNaN(awayAvgScored) && !isNaN(awayAvgConceded) && !isNaN(leagueAvgGoals) && leagueAvgGoals > 0) {

                    const avgGoalsPerTeam = leagueAvgGoals / 2; // Rata-rata gol yang dicetak atau kebobolan oleh satu tim

                    

                    const homeAttackStrength = homeAvgScored / avgGoalsPerTeam;

                    const awayAttackStrength = awayAvgScored / avgGoalsPerTeam;

                    const homeDefenseStrength = avgGoalsPerTeam / homeAvgConceded; // Inverted, higher is better

                    const awayDefenseStrength = avgGoalsPerTeam / awayAvgConceded; // Inverted, higher is better



                    goalStatsHtml += `<h4>Estimasi Kekuatan Tim (relatif terhadap liga, ${avgGoalsPerTeam.toFixed(2)} gol):</h4>`;

                    goalStatsHtml += `<ul>`;

                    goalStatsHtml += `<li>Tim Kandang - Kekuatan Serangan: <strong>${homeAttackStrength.toFixed(2)}x</strong> (dari rata-rata liga)</li>`;

                    goalStatsHtml += `<li>Tim Kandang - Kekuatan Pertahanan: <strong>${homeDefenseStrength.toFixed(2)}x</strong> (dari rata-rata liga)</li>`;

                    goalStatsHtml += `<li>Tim Tandang - Kekuatan Serangan: <strong>${awayAttackStrength.toFixed(2)}x</strong> (dari rata-rata liga)</li>`;

                    goalStatsHtml += `<li>Tim Tandang - Kekuatan Pertahanan: <strong>${awayDefenseStrength.toFixed(2)}x</strong> (dari rata-rata liga)</li>`;

                    goalStatsHtml += `</ul>`;



                    // Expected Goals (xG) - very simplified based on relative strengths [xgscore.io](https://xgscore.io/apps/odds-calculator)

                    xGHome = homeAttackStrength * (awayAvgConceded / avgGoalsPerTeam) * avgGoalsPerTeam; // Simplified calculation

                    xGAway = awayAttackStrength * (homeAvgConceded / avgGoalsPerTeam) * avgGoalsPerTeam; // Simplified calculation

                    totalxG = xGHome + xGAway;



                    goalStatsHtml += `<h4>Estimasi Gol yang Diharapkan (xG Sederhana):</h4>`;

                    goalStatsHtml += `<p>Tim Kandang (xG): <strong>${xGHome.toFixed(2)}</strong></p>`;

                    goalStatsHtml += `<p>Tim Tandang (xG): <strong>${xGAway.toFixed(2)}</strong></p>`;

                    goalStatsHtml += `<p>Total xG Pertandingan: <strong>${totalxG.toFixed(2)}</strong></p>`;



                    // Probabilitas Kemenangan berdasarkan xG (Sangat Sederhana, bukan Poisson)

                    let probHomeWinXG = (xGHome / (xGHome + xGAway)) * 100;

                    let probAwayWinXG = (xGAway / (xGHome + xGAway)) * 100;

                    

                    // Simple estimation for draw based on lower scoring games or similar xG

                    // This is a very weak estimation for draw without proper Poisson.

                    let probDrawXG = 0;

                    if (Math.abs(xGHome - xGAway) < 0.3) { // If xG are very close, higher chance of draw

                        probDrawXG = 25; // Arbitrary value for simple draw chance

                        probHomeWinXG = (probHomeWinXG * 0.75); // Reduce win prob

                        probAwayWinXG = (probAwayWinXG * 0.75); // Reduce win prob

                    }

                    if (probHomeWinXG + probAwayWinXG + probDrawXG > 100) { // Normalize if it exceeds 100

                        const factor = 100 / (probHomeWinXG + probAwayWinXG + probDrawXG);

                        probHomeWinXG *= factor;

                        probAwayWinXG *= factor;

                        probDrawXG *= factor;

                    }





                    goalStatsHtml += `<h4>Probabilitas Hasil (Estimasi Sederhana Berdasarkan xG):</h4>`;

                    goalStatsHtml += `<p>Tim Kandang Menang: <strong>${probHomeWinXG.toFixed(2)}%</strong></p>`;

                    goalStatsHtml += `<p>Tim Tandang Menang: <strong>${probAwayWinXG.toFixed(2)}%</strong></p>`;

                    goalStatsHtml += `<p>Seri: <strong>${probDrawXG.toFixed(2)}%</strong> (Estimasi sangat kasar tanpa Poisson)</p>`;



                    // OU Suggestion based on Total xG

                    if (totalxG >= 2.65) { // Higher threshold for strong Over suggestion

                        goalStatsHtml += `<p class="recommendation">Berdasarkan Total xG (${totalxG.toFixed(2)}), ada indikasi kuat untuk taruhan <strong>OVER ${ouValues[0] || '2.5'}</strong>.</p>`;

                    } else if (totalxG <= 2.25) { // Lower threshold for strong Under suggestion

                        goalStatsHtml += `<p class="recommendation">Berdasarkan Total xG (${totalxG.toFixed(2)}), ada indikasi kuat untuk taruhan <strong>UNDER ${ouValues[0] || '2.5'}</strong>.</p>`;

                    } else {

                        goalStatsHtml += `<p class="warning">Total xG (${totalxG.toFixed(2)}) menunjukkan pertandingan dengan jumlah gol sedang, analisis OU lebih lanjut diperlukan.</p>`;

                    }

                    

                    // Store xG based probabilities for value bet analysis

                    window.estimatedProbHome = probHomeWinXG;

                    window.estimatedProbDraw = probDrawXG;

                    window.estimatedProbAway = probAwayWinXG;





                } else if (!isNaN(homeAvgScored) && !isNaN(homeAvgConceded) && !isNaN(awayAvgScored) && !isNaN(awayAvgConceded)) {

                     goalStatsHtml += `<p><strong>Estimasi Sederhana Total Gol Pertandingan:</strong> Sekitar <strong>${(homeAvgScored + awayAvgScored).toFixed(2)}</strong> (dari rata-rata gol dicetak) dan <strong>${(homeAvgConceded + awayAvgConceded).toFixed(2)}</strong> (dari rata-rata gol kebobolan).</p>`;

                    const combinedAvgScore = (homeAvgScored + awayAvgScored + homeAvgConceded + awayAvgConceded) / 2;

                    goalStatsHtml += `<p class="warning"><strong>Saran OU Berdasarkan Statistik Gol:</strong> Dengan rata-rata gabungan <strong>${combinedAvgScore.toFixed(2)}</strong>, perhatikan odds OU yang sejalan. Jika rata-rata gabungan > 2.5, pertimbangkan Over.</p>`;

                } else {

                     goalStatsHtml += `<p>Masukan data rata-rata gol dan kebobolan yang lebih lengkap, termasuk rata-rata gol liga, untuk analisis kekuatan dan xG yang lebih mendalam.</p>`;

                }

                goalStatsHtml += `<p><em>Penting: Analisis ini sangat sederhana. Model yang lebih canggih menggunakan distribusi Poisson untuk memprediksi probabilitas skor tertentu, yang tidak diimplementasikan di sini. [topendsports.com](https://www.topendsports.com/sport/betting-tools/poisson-calculator.htm), [xgscore.io](https://xgscore.io/apps/odds-calculator)</em></p>`;



            } else {

                goalStatsHtml += '<p>Tidak ada data rata-rata gol dan kebobolan yang dimasukkan untuk dianalisis.</p>';

            }

            goalStatsAnalysisDiv.innerHTML = goalStatsHtml;





            // --- Potensi Odds Trap Heuristik ---

            const trapThreshold1X2 = 0.15; // Selisih odds desimal

            const trapThresholdOUHDP = 0.25; // Selisih odds desimal

            const trapProbDiff = 10; // Selisih probabilitas tersirat



            // 1X2 Trap

            if (!isNaN(oddsHomeA) && !isNaN(oddsHomeB) && Math.abs(oddsHomeA - oddsHomeB) > trapThreshold1X2) { 

                trapWarnings.push(`Odds Tim Kandang berbeda signifikan antara Bandar A (${oddsHomeA}) dan Bandar B (${oddsHomeB}).`);

            }

            if (!isNaN(oddsAwayA) && !isNaN(oddsAwayB) && Math.abs(oddsAwayA - oddsAwayB) > trapThreshold1X2) { 

                trapWarnings.push(`Odds Tim Tandang berbeda signifikan antara Bandar A (${oddsAwayA}) dan Bandar B (${oddsAwayB}).`);

            }

            if (!isNaN(oddsDrawA) && !isNaN(oddsDrawB) && Math.abs(oddsDrawA - oddsDrawB) > trapThreshold1X2) { 

                trapWarnings.push(`Odds Seri berbeda signifikan antara Bandar A (${oddsDrawA}) dan Bandar B (${oddsDrawB}).`);

            }



            // OU Trap

            if (ouValues.length > 0) {

                const ouNum = parseFloat(ouValues[0]);

                if (!isNaN(ouNum)) {

                    if (!isNaN(oddsOverA) && !isNaN(oddsOverB) && Math.abs(oddsOverA - oddsOverB) > trapThresholdOUHDP) {

                         trapWarnings.push(`Odds OVER ${ouNum} berbeda signifikan antara Bandar A (${oddsOverA}) dan Bandar B (${oddsOverB}).`);

                    }

                     if (!isNaN(oddsUnderA) && !isNaN(oddsUnderB) && Math.abs(oddsUnderA - oddsUnderB) > trapThresholdOUHDP) {

                         trapWarnings.push(`Odds UNDER ${ouNum} berbeda signifikan antara Bandar A (${oddsUnderA}) dan Bandar B (${oddsUnderB}).`);

                    }

                }

            }



            // HDP Trap

            if (hdpValues.length > 0) {

                const hdpNum = parseFloat(hdpValues[0]);

                if (!isNaN(hdpNum)) {

                    if (!isNaN(hdpOddsHomeA) && !isNaN(hdpOddsHomeB) && Math.abs(hdpOddsHomeA - hdpOddsHomeB) > trapThresholdOUHDP) {

                         trapWarnings.push(`Odds HDP Home ${hdpNum} berbeda signifikan antara Bandar A (${hdpOddsHomeA}) dan Bandar B (${hdpOddsHomeB}).`);

                    }

                     if (!isNaN(hdpOddsAwayA) && !isNaN(hdpOddsAwayB) && Math.abs(hdpOddsAwayA - hdpOddsAwayB) > trapThresholdOUHDP) {

                         trapWarnings.push(`Odds HDP Away ${hdpNum} berbeda signifikan antara Bandar A (${hdpOddsAwayA}) dan Bandar B (${hdpOddsAwayB}).`);

                    }

                }

            }





            if (trapWarnings.length > 0) {

                oddsTrapWarningDiv.innerHTML = `<h3><span style="color:orange;">&#9888;</span> Potensi Odds Trap atau Anomali Ditemukan:</h3>` + 

                                               trapWarnings.map(msg => `<p class="warning">${msg} Alasan: Perbedaan odds antar bandar seringkali menandakan pergerakan pasar, informasi baru, atau upaya bandar menyeimbangkan buku mereka. Ini bisa menjadi sinyal untuk melakukan riset lebih dalam tentang kondisi tim, cedera, atau berita terbaru.</p>`).join('');

            } else {

                 oddsTrapWarningDiv.innerHTML = `<h3>Tidak ada Potensi Odds Trap yang terdeteksi secara otomatis (berdasarkan heuristik sederhana).</h3>`;

                 oddsTrapWarningDiv.innerHTML += `<p><em>Namun, ini tidak berarti tidak ada trap. Tetaplah berhati-hati, lakukan riset pribadi, dan jangan hanya mengandalkan odds.</em></p>`;

            }



            // --- Value Bet Suggestions ---

            const valueThreshold = 5; // Difference in percentage points



            // 1X2 Value Bets

            if (!isNaN(window.estimatedProbHome) && !isNaN(probHomeA) && window.estimatedProbHome > probHomeA + valueThreshold) { 

                 valueBets.push(`Tim Kandang Menang (1X2) di Bandar A (Odds: ${oddsHomeA}). Alasan: Probabilitas estimasi Anda (${window.estimatedProbHome.toFixed(2)}%) lebih tinggi dari probabilitas tersirat bandar (${probHomeA.toFixed(2)}%).`);

                 recommendations.push({bet: `Tim Kandang Menang (1X2) @ ${oddsHomeA} (Bandar A)`, reason: `Odds Bandar A (${oddsHomeA}) untuk Tim Kandang Menang menawarkan nilai karena probabilitas estimasi Anda (${window.estimatedProbHome.toFixed(2)}%) lebih tinggi secara signifikan dari probabilitas tersirat bandar (${probHomeA.toFixed(2)}%).`});

            }

             if (!isNaN(window.estimatedProbAway) && !isNaN(probAwayA) && window.estimatedProbAway > probAwayA + valueThreshold) { 

                 valueBets.push(`Tim Tandang Menang (1X2) di Bandar A (Odds: ${oddsAwayA}). Alasan: Probabilitas estimasi Anda (${window.estimatedProbAway.toFixed(2)}%) lebih tinggi dari probabilitas tersirat bandar (${probAwayA.toFixed(2)}%).`);

                 recommendations.push({bet: `Tim Tandang Menang (1X2) @ ${oddsAwayA} (Bandar A)`, reason: `Odds Bandar A (${oddsAwayA}) untuk Tim Tandang Menang menawarkan nilai karena probabilitas estimasi Anda (${window.estimatedProbAway.toFixed(2)}%) lebih tinggi secara signifikan dari probabilitas tersirat bandar (${probAwayA.toFixed(2)}%).`});

            }

             if (!isNaN(window.estimatedProbDraw) && !isNaN(probDrawA) && window.estimatedProbDraw > probDrawA + valueThreshold) { 

                 valueBets.push(`Seri (1X2) di Bandar A (Odds: ${oddsDrawA}). Alasan: Probabilitas estimasi Anda (${window.estimatedProbDraw.toFixed(2)}%) lebih tinggi dari probabilitas tersirat bandar (${probDrawA.toFixed(2)}%).`);

                 recommendations.push({bet: `Seri (1X2) @ ${oddsDrawA} (Bandar A)`, reason: `Odds Bandar A (${oddsDrawA}) untuk Seri menawarkan nilai karena probabilitas estimasi Anda (${window.estimatedProbDraw.toFixed(2)}%) lebih tinggi secara signifikan dari probabilitas tersirat bandar (${probDrawA.toFixed(2)}%).`});

            }



            // OU Value Bets (Assuming ouValues[0] is the target OU line)

            if (!isNaN(totalxG) && ouValues.length > 0) {

                const targetOULine = parseFloat(ouValues[0]);

                if (!isNaN(targetOULine) && totalxG > targetOULine + 0.3) { // If xG is significantly higher than OU line

                    const bestOverOdds = Math.max(oddsOverA || 0, oddsOverB || 0); // Get the best Over odds

                    if (bestOverOdds > 1.01) {

                         valueBets.push(`OVER ${targetOULine} (Odds terbaik: ${bestOverOdds}). Alasan: Total xG pertandingan (${totalxG.toFixed(2)}) secara signifikan lebih tinggi dari garis OU. Ini menunjukkan potensi nilai pada taruhan OVER.`);

                         recommendations.push({bet: `OVER ${targetOULine} @ ${bestOverOdds}`, reason: `Total xG pertandingan yang diestimasi (${totalxG.toFixed(2)}) menunjukkan skor lebih tinggi dari garis OU (${targetOULine}), menawarkan potensi nilai pada odds terbaik (${bestOverOdds}).`});

                    }

                } else if (!isNaN(targetOULine) && totalxG < targetOULine - 0.3) { // If xG is significantly lower than OU line

                    const bestUnderOdds = Math.max(oddsUnderA || 0, oddsUnderB || 0); // Get the best Under odds

                    if (bestUnderOdds > 1.01) {

                         valueBets.push(`UNDER ${targetOULine} (Odds terbaik: ${bestUnderOdds}). Alasan: Total xG pertandingan (${totalxG.toFixed(2)}) secara signifikan lebih rendah dari garis OU. Ini menunjukkan potensi nilai pada taruhan UNDER.`);

                         recommendations.push({bet: `UNDER ${targetOULine} @ ${bestUnderOdds}`, reason: `Total xG pertandingan yang diestimasi (${totalxG.toFixed(2)}) menunjukkan skor lebih rendah dari garis OU (${targetOULine}), menawarkan potensi nilai pada odds terbaik (${bestUnderOdds}).`});

                    }

                }

            }





            if (valueBets.length > 0) {

                valueBetSuggestionsDiv.innerHTML = `<h3><span style="color:#28a745;">&#x2714;</span> Potensi Value Bet Ditemukan:</h3>` +

                                                   valueBets.map(msg => `<p class="success">${msg}</p>`).join('');

            } else if (!isNaN(window.estimatedProbHome)) { // Only show if we have some estimated prob for comparison

                 valueBetSuggestionsDiv.innerHTML = `<h3>Tidak ada Potensi Value Bet yang terdeteksi secara otomatis.</h3>`;

                 valueBetSuggestionsDiv.innerHTML += `<p><em>Ini bisa berarti odds bandar cukup akurat atau analisis Anda belum menemukan perbedaan yang signifikan. Tetap lakukan riset!</em></p>`;

            }



            // --- Final Recommendations Display ---

            if (recommendations.length > 0) {

                let recHtml = '<ul>';

                recommendations.forEach(rec => {

                    recHtml += `<li class="recommendation">${rec.bet} - Alasan: ${rec.reason}</li>`;

                });

                recHtml += '</ul>';

                finalRecommendationsDiv.innerHTML = recHtml;

            } else {

                finalRecommendationsDiv.innerHTML = `<p class="warning">Tidak ada rekomendasi taruhan kuat yang dihasilkan dari analisis data Anda saat ini. Ini mungkin berarti odds bandar relatif efisien atau tidak ada peluang nilai yang jelas teridentifikasi oleh alat ini. Lanjutkan riset pribadi Anda.</p>`;

            }





            // Switch to result tab after analysis

            openTab(event, 'resultAnalysis');

        }



        // Initialize first tab when page loads

        document.addEventListener('DOMContentLoaded', () => {

            document.querySelector('.tab-button.active').click();

        });

    </script>

</body>

</html>
